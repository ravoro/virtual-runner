{% macro field(f, label=None, placeholder="", addon=None) %}
    <div class="form-group {% if f.errors %}has-error{% endif %}">
        {% if label %}
            {{ f.label(label) }}
        {% endif %}
        {{ form_control_with_addon(f(class="form-control", placeholder=placeholder, autofocus=""), addon) }}
        {% for error in f.errors %}
            <span class="help-block">{{ error }}</span>
        {% endfor %}
    </div>
{% endmacro %}

{% macro form_control_with_addon(f, addon) %}
    {% if addon %}
        <div class="input-group">
            {{ f }}
            <div class="input-group-addon">{{ addon }}</div>
        </div>
    {% else %}
        {{ f }}
    {% endif %}
{% endmacro %}
